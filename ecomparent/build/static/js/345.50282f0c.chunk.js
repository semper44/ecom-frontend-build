"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[345],{8345:function(e,t,r){r.r(t),r.d(t,{default:function(){return A}});var n=r(4165),o=r(5861),s=r(885),a=r(2791),l=r(6229),i=r(503),c=r(9984),u=r(3978),d=r(228),x=r(3811),p=r(4565),h=r(2388),f=r(2042),Z=r(3181),j=r(4265),m=r(4283),v=r(1330),b=r(3788),w=r(2501),g=r(9e3),k=r(6243),C=r(4977),S=r(2978),y=r(7689),M=r(5814),B=r(2702),I=r(6711),z=r(7247),D=r(7205),T=r(9276),N=r(1381),G=r(1518),O=r(184);var P=function(e){var t=e.setBlockState,r=e.url,n=(0,a.useState)(!1),o=(0,s.Z)(n,2),l=o[0],i=o[1],c=(0,a.useState)(null),u=(0,s.Z)(c,2),d=u[0],x=u[1],f=(0,a.useState)(!1),Z=(0,s.Z)(f,2),j=Z[0],m=Z[1],v=(0,a.useState)(!1),b=(0,s.Z)(v,2),w=b[0],g=b[1],k=JSON.parse(window.localStorage.getItem("authToken"))||null,S={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+(null===k||void 0===k?void 0:k.access)}};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(N.Z,{children:[j&&(0,O.jsx)(G.Z,{value:"Sorry, request failed",code:"error",fn:m}),w&&(0,O.jsx)(G.Z,{value:"user banned",code:"success",fn:g}),(0,O.jsx)(T.Z,{width:"fit-content",m:"7px 2px",p:"10px 22px",diplay:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",borderRadius:"10px",children:(0,O.jsxs)(T.Z,{children:[(0,O.jsx)(p.Z,{color:"grey",sx:{ml:"5px"},children:"Are you sure you want to block?"}),(0,O.jsxs)(T.Z,{m:"11px 0",children:[(0,O.jsx)(D.Z,{variant:"outlined",sx:{":hover":{opacity:.6}},startIcon:(0,O.jsx)(z.Z,{}),onClick:function(){i(!0),h.Z.post(r,S).then((function(e){i(!1),200===e.status?(g(!0),window.location.reload()):(i(!1),x(d))})).catch((function(e){x(e),i(!1),m(!0)}))},children:"Ban"}),(0,O.jsx)(D.Z,{variant:"contained",sx:{ml:"5px",":hover":{opacity:.6}},startIcon:(0,O.jsx)(I.Z,{}),onClick:function(){t(!1)},children:"Cancel"})]})]})})]}),l&&(0,O.jsx)(T.Z,{sx:{position:"fixed",top:"40%",left:"45%",zIndex:"99"},children:(0,O.jsx)(C.Z,{})})]})};var U=function(e){var t=e.setUnBlockState,r=e.params,n=e.id,o=(0,a.useState)(!1),l=(0,s.Z)(o,2),i=l[0],c=l[1],u=(0,a.useState)(null),d=(0,s.Z)(u,2),x=d[0],f=d[1],Z=(0,a.useState)(!1),j=(0,s.Z)(Z,2),m=j[0],v=j[1],b=(0,a.useState)(!1),w=(0,s.Z)(b,2),g=w[0],k=w[1],S=JSON.parse(window.localStorage.getItem("authToken"))||null,y={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+(null===S||void 0===S?void 0:S.access)}};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(N.Z,{children:[m&&(0,O.jsx)(G.Z,{value:"Sorry, request failed",code:"error",fn:v}),g&&(0,O.jsx)(G.Z,{value:"User unbanned",code:"success",fn:k}),(0,O.jsx)(T.Z,{width:"fit-content",m:"7px 2px",p:"10px 22px",diplay:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",borderRadius:"10px",children:(0,O.jsxs)(T.Z,{children:[(0,O.jsx)(p.Z,{color:"grey",sx:{ml:"5px"},children:"Are you sure you want to unban?"}),(0,O.jsxs)(T.Z,{m:"11px 0",children:[(0,O.jsx)(D.Z,{variant:"outlined",sx:{":hover":{opacity:.6}},startIcon:(0,O.jsx)(z.Z,{}),onClick:function(){return function(e){var r;c(!0),r="seller"===e.row.tags?"".concat("http://127.0.0.1:8000","/profile/unblockseller/").concat(n,"/"):"".concat("http://127.0.0.1:8000","/profile/unblockuser/").concat(n,"/"),h.Z.post(r,y).then((function(e){c(!1),200===e.status?(k(!0),t(!1),window.location.reload()):(t(!1),c(!1),f(x),v(!0),200===e.status&&alert("user not blocked"))})).catch((function(e){f(e),c(!1),v(!0)}))}(r)},children:"Unban"}),(0,O.jsx)(D.Z,{variant:"contained",sx:{ml:"5px",":hover":{opacity:.6}},startIcon:(0,O.jsx)(I.Z,{}),onClick:function(){t(!1)},children:"Cancel"})]})]})})]}),i&&(0,O.jsx)(T.Z,{sx:{position:"fixed",top:"40%",left:"45%",zIndex:"99"},children:(0,O.jsx)(C.Z,{})})]})};var A=function(){var e=(0,a.useState)(""),t=(0,s.Z)(e,2),r=t[0],I=t[1],z=(0,a.useState)(!1),D=(0,s.Z)(z,2),T=D[0],N=D[1],G=(0,a.useState)(!0),A=(0,s.Z)(G,2),q=A[0],L=A[1],J=(0,a.useState)(null),R=(0,s.Z)(J,2),_=R[0],E=R[1],F=(0,a.useState)(!1),H=(0,s.Z)(F,2),K=H[0],Q=H[1],V=(0,a.useState)(!1),W=(0,s.Z)(V,2),X=W[0],Y=W[1],$=(0,a.useState)(!1),ee=(0,s.Z)($,2),te=ee[0],re=(ee[1],(0,a.useState)("")),ne=(0,s.Z)(re,2),oe=ne[0],se=ne[1],ae=(0,a.useState)(null),le=(0,s.Z)(ae,2),ie=le[0],ce=le[1],ue=(0,a.useState)(null),de=(0,s.Z)(ue,2),xe=de[0],pe=de[1],he=(0,a.useContext)(k.yw).theme,fe=(0,a.useContext)(S.pt),Ze=fe.dontdisplay,je=fe.gridlg,me=fe.gridxl,ve=fe.gridxlxl,be=(0,y.TH)(),we=!1,ge=be.pathname;we=!!ge.includes("fullpage");var ke=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.get("".concat("http://127.0.0.1:8000","/profile/allusers"));case 3:200===(t=e.sent).status&&(L(!1),I(t.data)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),L(!1),E(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){ke()}),[]);var Ce=[{field:"id",headerName:"ID",hide:"true"},{field:"pics",headerName:"PICS",filterable:!1,flex:1,renderCell:function(e){return(0,O.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,O.jsx)(u.Z,{src:e.row.pics}),"seller"===e.row.tags&&(0,O.jsx)(M.Z,{title:"Seller",arrow:!0,children:(0,O.jsx)(B.Z,{style:{color:"green",marginLeft:"5px"}})})]})}},{field:"username",headerName:"NAME",flex:1},{field:"access",headerName:"Access",filterable:!1,flex:1,width:Ze?20:void 0,renderCell:function(e){return(0,O.jsxs)(d.Z,{m:Ze?"0 0":"7px 2%",p:Ze?"0 ":"5px",diplay:"flex",justifyContent:"center",gap:"0",children:[(0,O.jsxs)(x.Z,{"aria-label":"Delete",size:"small",className:"",onClick:function(){return function(e){N(!0),ce(e.id)}(e)},children:[(0,O.jsx)(M.Z,{title:"Delete",arrow:!0,children:(0,O.jsx)(i.Z,{sx:{color:he?"red":void 0}})}),Ze?"":(0,O.jsx)(p.Z,{color:"grey",sx:{ml:"5px"},children:"Delete"})]}),T&&(0,O.jsx)(f.Z,{setdelete:N,url:"".concat("http://127.0.0.1:8000","/product/admin/deleteproduct/").concat(ie),type:"admin"}),!Ze&&(!1===e.row.blocked?(0,O.jsxs)(x.Z,{"aria-label":"Delete",size:"small",className:"",onClick:function(){return function(e){!1===e.row.blocked&&"seller"===e.row.tags?se("".concat("http://127.0.0.1:8000","/profile/blockseller/").concat(e.id,"/")):!1===e.row.blocked&&"no-seller"===e.row.tags&&se("".concat("http://127.0.0.1:8000","/profile/blockuser/").concat(e.id,"/")),Q(!0),ce(e.id)}(e)},children:[(0,O.jsx)(M.Z,{title:te?"unban":"Ban",arrow:!0,children:(0,O.jsx)(c.Z,{})}),ve&&(0,O.jsx)(p.Z,{color:"grey",sx:{ml:"5px"},children:"Ban"})]}):(0,O.jsxs)(x.Z,{"aria-label":"Delete",size:"small",className:"",onClick:function(){return function(e){Y(!0),pe(e.row.id)}(e)},children:[(0,O.jsx)(M.Z,{title:"UnBan",arrow:!0,children:(0,O.jsx)(c.Z,{})}),ve&&(0,O.jsx)(p.Z,{color:"grey",sx:{ml:"5px"},children:"UnBan"})]})),K&&(0,O.jsx)(P,{setBlockState:Q,url:oe}),X&&(0,O.jsx)(U,{setUnBlockState:Y,params:e,id:xe})]})}}];return(0,a.useEffect)((function(){document.title="Users"}),[]),(0,O.jsx)("div",{className:Z.Z.usersandproduct,children:q?(0,O.jsx)(C.Z,{}):(0,O.jsxs)(O.Fragment,{children:[_&&(0,O.jsx)("h1",{id:Z.Z.errors,children:_}),r&&(0,O.jsx)(d.Z,{m:"0 0 0 4%",height:Ze?"75vh":"80vh",pt:"2%",children:(0,O.jsx)(l._,{rows:r,columns:Ce,pageSize:7,rowsPerPageOptions:[7],checkboxSelection:!0,components:{Toolbar:function(){return(0,O.jsxs)(j.D,{children:[(0,O.jsx)(w.S,{}),(0,O.jsx)(g.M,{}),!Ze&&(je&&we||me&&je)&&(0,O.jsx)(b.T,{}),(!Ze&&je||we)&&(0,O.jsx)(m.L,{}),(!Ze&&ve||we)&&(0,O.jsx)(v.Zh,{})]})},GridCell:{border:"none"}},disableSelectionOnClick:!0,sx:he?{color:"white","& .MuiDataGrid-cellCheckbox":{outline:"white"},"& :rli:":{outline:"yellow",color:"black"},"& .MuiCheckbox-colorPrimary":{color:"white"},"& .css-levciy-MuiTablePagination-displayedRows":{backgroundColor:"#0e7878",color:"white"},"& .MuiDataGrid-footerContainer":{backgroundColor:"#0e7878",color:"white",borderTop:"none"},"& .css-78c6dr-MuiToolbar-root-MuiTablePagination-toolbar .MuiTablePagination-actions":{color:"white"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .css-1j9kmqg-MuiDataGrid-toolbarContainer":{borderTop:"none",backgroundColor:"#0e7878",color:"white",gap:Ze?"0":"5%",paddingLeft:"1.5%"},"& .css-1knaqv7-MuiButtonBase-root-MuiButton-root":{color:"white"},"& .css-1ptx2yq-MuiInputBase-root-MuiInput-root":{color:"white"},"& .MuiDataGrid-root .MuiDataGrid-root--densityStandard":{borderBottom:"none"},"& .css-b1p1vf .MuiDataGrid-root ":{border:"5px solid red "}}:{}})})]})})}},2702:function(e,t,r){var n=r(4836);t.Z=void 0;var o=n(r(5649)),s=r(184),a=(0,o.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlineOutlined");t.Z=a},9984:function(e,t,r){var n=r(4836);t.Z=void 0;var o=n(r(5649)),s=r(184),a=(0,o.default)((0,s.jsx)("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutlineOutlined");t.Z=a},3181:function(e,t){t.Z={usersandproduct:"usersandproducts_usersandproduct__dJTHJ"}}}]);
//# sourceMappingURL=345.50282f0c.chunk.js.map