"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[345],{8345:(e,t,o)=>{o.r(t),o.d(t,{default:()=>O});var r=o(2791),s=o(1489),n=o(503),l=o(9984),a=o(3978),c=o(228),i=o(3811),d=o(4565),u=o(2388),x=o(2042),p=o(5191),h=o(4265),m=o(4283),f=o(1330),j=o(3788),Z=o(2501),b=o(9e3),g=o(9751),w=o(4977),k=o(2978),y=o(7689),C=o(5814),S=o(2702),v=o(6711),M=o(7247),B=o(7205),I=o(9276),z=o(1381),D=o(1518),T=o(184);const N=function(e){let{setBlockState:t,url:o}=e;const[s,n]=(0,r.useState)(!1),[l,a]=(0,r.useState)(null),[c,i]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1),h=JSON.parse(window.localStorage.getItem("authToken"))||null,m={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+(null===h||void 0===h?void 0:h.access)}};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(z.Z,{children:[c&&(0,T.jsx)(D.Z,{value:"Sorry, request failed",code:"error",fn:i}),x&&(0,T.jsx)(D.Z,{value:"user banned",code:"success",fn:p}),(0,T.jsx)(I.Z,{width:"fit-content",m:"7px 2px",p:"10px 22px",diplay:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",borderRadius:"10px",children:(0,T.jsxs)(I.Z,{children:[(0,T.jsx)(d.Z,{color:"grey",sx:{ml:"5px"},children:"Are you sure you want to block?"}),(0,T.jsxs)(I.Z,{m:"11px 0",children:[(0,T.jsx)(B.Z,{variant:"outlined",sx:{":hover":{opacity:.6}},startIcon:(0,T.jsx)(M.Z,{}),onClick:function(){n(!0),u.Z.post(o,m).then((e=>{n(!1),200===e.status?(p(!0),window.location.reload()):(n(!1),a(l))})).catch((e=>{a(e),n(!1),i(!0)}))},children:"Ban"}),(0,T.jsx)(B.Z,{variant:"contained",sx:{ml:"5px",":hover":{opacity:.6}},startIcon:(0,T.jsx)(v.Z,{}),onClick:function(){t(!1)},children:"Cancel"})]})]})})]}),s&&(0,T.jsx)(I.Z,{sx:{position:"fixed",top:"40%",left:"45%",zIndex:"99"},children:(0,T.jsx)(w.Z,{})})]})};const G=function(e){let{setUnBlockState:t,params:o,id:s}=e;const[n,l]=(0,r.useState)(!1),[a,c]=(0,r.useState)(null),[i,x]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),m=JSON.parse(window.localStorage.getItem("authToken"))||null,f={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+(null===m||void 0===m?void 0:m.access)}};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(z.Z,{children:[i&&(0,T.jsx)(D.Z,{value:"Sorry, request failed",code:"error",fn:x}),p&&(0,T.jsx)(D.Z,{value:"User unbanned",code:"success",fn:h}),(0,T.jsx)(I.Z,{width:"fit-content",m:"7px 2px",p:"10px 22px",diplay:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",borderRadius:"10px",children:(0,T.jsxs)(I.Z,{children:[(0,T.jsx)(d.Z,{color:"grey",sx:{ml:"5px"},children:"Are you sure you want to unban?"}),(0,T.jsxs)(I.Z,{m:"11px 0",children:[(0,T.jsx)(B.Z,{variant:"outlined",sx:{":hover":{opacity:.6}},startIcon:(0,T.jsx)(M.Z,{}),onClick:()=>function(e){let o;l(!0),o="seller"===e.row.tags?"".concat("https://epcommerce.onrender.com","/profile/unblockseller/").concat(s,"/"):"".concat("https://epcommerce.onrender.com","/profile/unblockuser/").concat(s,"/"),u.Z.post(o,f).then((e=>{l(!1),200===e.status?(h(!0),t(!1),window.location.reload()):(t(!1),l(!1),c(a),x(!0),200===e.status&&alert("user not blocked"))})).catch((e=>{c(e),l(!1),x(!0)}))}(o),children:"Unban"}),(0,T.jsx)(B.Z,{variant:"contained",sx:{ml:"5px",":hover":{opacity:.6}},startIcon:(0,T.jsx)(v.Z,{}),onClick:function(){t(!1)},children:"Cancel"})]})]})})]}),n&&(0,T.jsx)(I.Z,{sx:{position:"fixed",top:"40%",left:"45%",zIndex:"99"},children:(0,T.jsx)(w.Z,{})})]})};const O=function(){const[e,t]=(0,r.useState)(""),[o,v]=(0,r.useState)(!1),[M,B]=(0,r.useState)(!0),[I,z]=(0,r.useState)(null),[D,O]=(0,r.useState)(!1),[P,U]=(0,r.useState)(!1),[A,_]=(0,r.useState)(!1),[q,L]=(0,r.useState)(""),[R,E]=(0,r.useState)(null),[F,H]=(0,r.useState)(null),{theme:J}=(0,r.useContext)(g.yw),{dontdisplay:K,gridlg:Q,gridxl:V,gridxlxl:W}=(0,r.useContext)(k.pt),X=(0,y.TH)();let Y=!1;const{pathname:$}=X;Y=!!$.includes("fullpage"),(0,r.useEffect)((()=>{(async()=>{try{const e=await u.Z.get("".concat("https://epcommerce.onrender.com","/profile/allusers"));200===e.status&&(B(!1),t(e.data))}catch(I){B(!1),z(I)}})()}),[]);const ee=[{field:"id",headerName:"ID",hide:"true"},{field:"image_url",headerName:"PICS",filterable:!1,flex:1,renderCell:e=>(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,T.jsx)(a.Z,{src:e.row.image_url}),"seller"===e.row.tags&&(0,T.jsx)(C.Z,{title:"Seller",arrow:!0,children:(0,T.jsx)(S.Z,{style:{color:"green",marginLeft:"5px"}})})]})},{field:"username",headerName:"NAME",flex:1},{field:"access",headerName:"Access",filterable:!1,flex:1,width:K?20:void 0,renderCell:e=>(0,T.jsxs)(c.Z,{m:K?"0 0":"7px 2%",p:K?"0 ":"5px",diplay:"flex",justifyContent:"center",gap:"0",children:[(0,T.jsxs)(i.Z,{"aria-label":"Delete",size:"small",className:"",onClick:()=>function(e){v(!0),E(e.id)}(e),children:[(0,T.jsx)(C.Z,{title:"Delete",arrow:!0,children:(0,T.jsx)(n.Z,{sx:{color:J?"red":void 0}})}),K?"":(0,T.jsx)(d.Z,{color:"grey",sx:{ml:"5px"},children:"Delete"})]}),o&&(0,T.jsx)(x.Z,{setdelete:v,url:"".concat("https://epcommerce.onrender.com","/product/admin/deleteproduct/").concat(R),type:"admin"}),!K&&(!1===e.row.blocked?(0,T.jsxs)(i.Z,{"aria-label":"Delete",size:"small",className:"",onClick:()=>function(e){!1===e.row.blocked&&"seller"===e.row.tags?L("".concat("https://epcommerce.onrender.com","/profile/blockseller/").concat(e.id,"/")):!1===e.row.blocked&&"no-seller"===e.row.tags&&L("".concat("https://epcommerce.onrender.com","/profile/blockuser/").concat(e.id,"/")),O(!0),E(e.id)}(e),children:[(0,T.jsx)(C.Z,{title:A?"unban":"Ban",arrow:!0,children:(0,T.jsx)(l.Z,{})}),W&&(0,T.jsx)(d.Z,{color:"grey",sx:{ml:"5px"},children:"Ban"})]}):(0,T.jsxs)(i.Z,{"aria-label":"Delete",size:"small",className:"",onClick:()=>function(e){U(!0),H(e.row.id)}(e),children:[(0,T.jsx)(C.Z,{title:"UnBan",arrow:!0,children:(0,T.jsx)(l.Z,{})}),W&&(0,T.jsx)(d.Z,{color:"grey",sx:{ml:"5px"},children:"UnBan"})]})),D&&(0,T.jsx)(N,{setBlockState:O,url:q}),P&&(0,T.jsx)(G,{setUnBlockState:U,params:e,id:F})]})}];return(0,r.useEffect)((()=>{document.title="Users"}),[]),(0,T.jsx)("div",{className:p.Z.usersandproduct,children:M?(0,T.jsx)(w.Z,{}):(0,T.jsxs)(T.Fragment,{children:[I&&(0,T.jsx)("h1",{id:p.Z.errors,children:I}),e&&(0,T.jsx)(c.Z,{m:"0 0 0 4%",height:K?"75vh":"80vh",pt:"2%",children:(0,T.jsx)(s._,{rows:e,columns:ee,pageSize:7,rowsPerPageOptions:[7],checkboxSelection:!0,components:{Toolbar:function(){return(0,T.jsxs)(h.D,{children:[(0,T.jsx)(Z.S,{}),(0,T.jsx)(b.M,{}),!K&&(Q&&Y||V&&Q)&&(0,T.jsx)(j.T,{}),(!K&&Q||Y)&&(0,T.jsx)(m.L,{}),(!K&&W||Y)&&(0,T.jsx)(f.Zh,{})]})},GridCell:{border:"none"}},disableSelectionOnClick:!0,sx:J?{color:"white","& .MuiDataGrid-cellCheckbox":{outline:"white"},"& :rli:":{outline:"yellow",color:"black"},"& .MuiCheckbox-colorPrimary":{color:"white"},"& .css-levciy-MuiTablePagination-displayedRows":{backgroundColor:"#0e7878",color:"white"},"& .MuiDataGrid-footerContainer":{backgroundColor:"#0e7878",color:"white",borderTop:"none"},"& .css-78c6dr-MuiToolbar-root-MuiTablePagination-toolbar .MuiTablePagination-actions":{color:"white"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .css-1j9kmqg-MuiDataGrid-toolbarContainer":{borderTop:"none",backgroundColor:"#0e7878",color:"white",gap:K?"0":"5%",paddingLeft:"1.5%"},"& .css-1knaqv7-MuiButtonBase-root-MuiButton-root":{color:"white"},"& .css-1ptx2yq-MuiInputBase-root-MuiInput-root":{color:"white"},"& .MuiDataGrid-root .MuiDataGrid-root--densityStandard":{borderBottom:"none"},"& .css-b1p1vf .MuiDataGrid-root ":{border:"5px solid red "}}:{}})})]})})}},2702:(e,t,o)=>{var r=o(4836);t.Z=void 0;var s=r(o(5649)),n=o(184),l=(0,s.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlineOutlined");t.Z=l},9984:(e,t,o)=>{var r=o(4836);t.Z=void 0;var s=r(o(5649)),n=o(184),l=(0,s.default)((0,n.jsx)("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutlineOutlined");t.Z=l},5191:(e,t,o)=>{o.d(t,{Z:()=>r});const r={usersandproduct:"usersandproducts_usersandproduct__K91gH"}}}]);
//# sourceMappingURL=345.130d8d7a.chunk.js.map