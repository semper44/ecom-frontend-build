"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[668],{4668:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var a=r(2791),l=r(1489),n=r(3978),s=r(228),i=r(4977);const o=function(e,t){const[r,l]=(0,a.useState)(),[n,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),d=JSON.parse(window.localStorage.getItem("authToken"))||null;return(0,a.useEffect)((()=>{let r=!1;fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+(null===d||void 0===d?void 0:d.access)}}).then((e=>{if(!e.ok){if(o(!1),417!==e.status)throw Error("Couldn't fetch data, please retry");r=!0}return 200===e.status&&o(!1),e.json()})).then((e=>{r?s(e.msg):l(e)})).catch((e=>{o(!1),s(e.message)}))}),[t,null===d||void 0===d?void 0:d.access,e]),{loading:i,error:n,data:r}};var d=r(6528),c=r(456),h=r(184);function u(){const{user:e}=(0,a.useContext)(d.V);let t;e&&(t=(0,c.Z)(e.access));let r="".concat("https://epcommerce.onrender.com","/profile/yourorders/").concat(t.username);const{data:u,loading:f,error:m}=o(r,"GET"),g=[{field:"id",headerName:"ID",hide:"true"},{field:"category",headerName:"Category",hide:"true",flex:1,headerAlign:"left"},{field:"image",headerName:"Image",filterable:!1,renderCell:e=>(0,h.jsx)(n.Z,{src:e.row.image})},{field:"sellers",headerName:"Sellers",flex:1},{field:"description",headerName:"Description",flex:1,hide:"true"},{field:"price",headerName:"Price",type:"number",headerAlign:"left",align:"left"},{field:"size",headerName:"Size",type:"number",headerAlign:"left",align:"left",hide:"true"}];return(0,a.useEffect)((()=>{document.title="Orders"}),[]),(0,h.jsx)(h.Fragment,{children:f?(0,h.jsx)(i.Z,{}):(0,h.jsxs)(h.Fragment,{children:[m&&(0,h.jsx)("h1",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:" 22% 0",color:"cyan"},children:m}),u&&(0,h.jsxs)("div",{style:{height:"100%",width:"100%"},children:["(",(0,h.jsx)(s.Z,{m:"35px 0 0 0",height:"40vh",children:(0,h.jsx)(l._,{rows:u,columns:g,pageSize:7,rowsPerPageOptions:[7],checkboxSelection:!0,disableSelectionOnClick:!0})}),")"]})]})})}const f=(0,a.memo)(u)}}]);
//# sourceMappingURL=668.e14732f4.chunk.js.map